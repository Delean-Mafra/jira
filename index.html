<!-- 
Este arquivo precisa ser executado em um servidor Flask para funcionar corretamente.
Certifique-se de que o Flask est√° instalado e configurado corretamente.
√â necessario o codigo completo do "Assinatura_digital.py" para executar este HTML em sua totalidade.
O c√≥digo JavaScript contido no arquivo "assinar_pdfs.js" t√°mb√©m √© necess√°rio para o funcionamento correto do modal e das intera√ß√µes da p√°gina.
Certifique-se de que o arquivo "assinar_pdfs.js" est√° localizado na pasta "static" do seu projeto Flask.
O CSS inline foi utilizado para simplificar o exemplo, mas recomenda-se utilizar um arquivo CSS separado
-->

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assinatura Digital de PDFs</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%); 
            min-height: 100vh; 
            padding: 20px; 
            color: #e0e0e0;
        }
        .container { 
            max-width: 800px; 
            margin: 0 auto; 
            background: #1e1e2e; 
            border-radius: 15px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.5); 
            overflow: hidden; 
            border: 1px solid #333;
        }
        .header { 
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); 
            color: white; 
            padding: 30px; 
            text-align: center; 
        }
        .header h1 { font-size: 2.5em; margin-bottom: 10px; }
        .header p { font-size: 1.1em; opacity: 0.9; }
        .tabs { 
            display: flex; 
            background: #2a2a3e; 
            border-bottom: 1px solid #444;
        }
        .tab-button { 
            flex: 1; 
            padding: 15px; 
            background: none; 
            border: none; 
            cursor: pointer; 
            font-size: 16px; 
            font-weight: 600; 
            color: #b0b0b0; 
            transition: all 0.3s; 
        }
        .tab-button.active { 
            background: #1e1e2e; 
            color: #64b5f6; 
            border-bottom: 3px solid #64b5f6; 
        }
        .tab-button:hover {
            background: #333346;
            color: #e0e0e0;
        }
        .tab-content { 
            display: none; 
            padding: 40px; 
            background: #1e1e2e;
        }
        .tab-content.active { display: block; }
        .form-group { margin-bottom: 20px; }
        .form-group label { 
            display: block; 
            margin-bottom: 8px; 
            font-weight: 600; 
            color: #e0e0e0; 
        }
        .form-group input { 
            width: 100%; 
            padding: 12px; 
            border: 2px solid #444; 
            border-radius: 8px; 
            font-size: 16px; 
            transition: border-color 0.3s; 
            background: #2a2a3e;
            color: #e0e0e0;
        }
        .form-group input:focus { 
            outline: none; 
            border-color: #64b5f6; 
            background: #333346;
        }
        .form-group input:disabled {
            background: #3a3a4e;
            color: #888;
            border-color: #555;
        }
        .file-upload { 
            border: 2px dashed #64b5f6; 
            border-radius: 10px; 
            padding: 40px; 
            text-align: center; 
            cursor: pointer; 
            transition: all 0.3s; 
            margin-bottom: 20px; 
            background: #2a2a3e;
            color: #e0e0e0;
        }
        .file-upload:hover { 
            background: #333346; 
            border-color: #81c784;
        }
        .file-upload input { display: none; }
        .file-info { 
            margin-top: 10px; 
            padding: 10px; 
            background: #1565c0; 
            border-radius: 5px; 
            color: #e3f2fd; 
        }
        .btn { 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
            color: white; 
            border: none; 
            padding: 15px 30px; 
            border-radius: 8px; 
            font-size: 16px; 
            font-weight: 600; 
            cursor: pointer; 
            transition: transform 0.3s; 
            width: 100%; 
        }
        .btn:hover { 
            transform: translateY(-2px); 
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        .btn:disabled {
            background: #555;
            cursor: not-allowed;
            transform: none;
        }
        .result { 
            margin-top: 20px; 
            padding: 20px; 
            border-radius: 8px; 
            display: none; 
        }
        .result.success { 
            background: #1b5e20; 
            color: #c8e6c9; 
            border: 1px solid #2e7d32; 
        }
        .result.error { 
            background: #b71c1c; 
            color: #ffcdd2; 
            border: 1px solid #d32f2f; 
        }
        .aceite-section { 
            background: #2a2a3e; 
            padding: 20px; 
            border-radius: 8px; 
            margin-bottom: 20px; 
            border: 1px solid #444;
        }
        .aceite-section label { 
            display: flex; 
            align-items: center; 
            cursor: pointer; 
            color: #e0e0e0;
        }
        .aceite-section input[type="checkbox"] { margin-right: 10px; }
        #aceite-info { 
            display: none; 
            margin-top: 10px; 
            color: #81c784; 
            font-weight: 600; 
        }
        .documentation { 
            background: #2a2a3e; 
            border-radius: 8px; 
            padding: 30px; 
            font-size: 14px; 
            line-height: 1.6; 
            color: #e0e0e0; 
            max-height: 600px; 
            overflow-y: auto; 
            border: 1px solid #444;
        }
        .documentation h2 { 
            color: #64b5f6; 
            margin: 25px 0 15px 0; 
            font-size: 1.4em; 
        }
        .documentation h3 { 
            color: #81c784; 
            margin: 20px 0 10px 0; 
            font-size: 1.2em; 
        }
        .documentation h4 { 
            color: #ffb74d; 
            margin: 15px 0 8px 0; 
            font-size: 1.1em; 
        }
        .documentation p { 
            margin-bottom: 10px; 
            text-align: justify; 
            color: #e0e0e0;
        }
        .documentation ul { 
            margin: 10px 0 10px 20px; 
            color: #e0e0e0;
        }
        .documentation li { 
            margin-bottom: 5px; 
        }
        .documentation strong { 
            color: #64b5f6; 
        }
        .doc-section { 
            border-left: 4px solid #64b5f6; 
            padding-left: 15px; 
            margin: 20px 0; 
            background: #1e1e2e; 
            padding: 15px; 
            border-radius: 5px; 
            border: 1px solid #444;
        }
        .verify-section {
            background: #1e1e2e;
        }
        .verify-section.active {
            display: block;
        }
        .tab {
            background: #2a2a3e;
            color: #b0b0b0;
            border: 1px solid #444;
            padding: 10px 15px;
            margin-right: 5px;
            border-radius: 5px 5px 0 0;
            cursor: pointer;
            transition: all 0.3s;
        }
        .tab.active {
            background: #1e1e2e;
            color: #64b5f6;
            border-bottom-color: #1e1e2e;
        }
        .tab:hover {
            background: #333346;
            color: #e0e0e0;
        }
        .account-section {
            background: #1e1e2e;
        }
        
        /* Sobrescrever estilos inline para tema escuro */
        div[style*="background: #fff3cd"] {
            background: #3e2723 !important;
            border-color: #8d6e63 !important;
        }
        div[style*="background: #fff3cd"] h4,
        div[style*="background: #fff3cd"] p {
            color: #ffcc02 !important;
        }
        
        div[style*="background: #e3f2fd"] {
            background: #0d47a1 !important;
            border-color: #1976d2 !important;
        }
        div[style*="background: #e3f2fd"] h3,
        div[style*="background: #e3f2fd"] p {
            color: #e3f2fd !important;
        }
        
        div[style*="background: #d4edda"] {
            background: #1b5e20 !important;
            border-color: #2e7d32 !important;
        }
        div[style*="background: #d4edda"] h4,
        div[style*="background: #d4edda"] p {
            color: #c8e6c9 !important;
        }
        
        div[style*="background: #e8f5e8"] {
            background: #1b5e20 !important;
            border-color: #2e7d32 !important;
        }
        div[style*="background: #e8f5e8"] h4,
        div[style*="background: #e8f5e8"] p {
            color: #c8e6c9 !important;
        }
        
        /* Corrigir caixa de verifica√ß√£o - fundo escuro e texto verde escuro */
        div[style*="background: #e8f4f8"] {
            background: #2a2a3e !important;
            border: 1px solid #444 !important;
        }
        div[style*="background: #e8f4f8"] strong {
            color: #4caf50 !important; /* Verde claro/brilhante para melhor contraste */
        }
        
        /* Colorir de vermelho apenas o texto "Arquivo N√ÉO encontrado no blockchain" */
        div[style*="background: #e8f4f8"] strong:contains("‚ùå") {
            color: #f44336 !important; /* Vermelho para mensagens de erro do blockchain */
        }
        
        /* Manter verde para mensagens de sucesso do blockchain */
        div[style*="background: #e8f4f8"] strong:contains("‚úÖ") {
            color: #4caf50 !important; /* Verde para mensagens de sucesso */
        }
        
        div[style*="background: #f8f9fa"] {
            background: #2a2a3e !important;
        }
        
        div[style*="background: #fff3e0"] {
            background: #3e2723 !important;
            border-left-color: #ff9800 !important;
        }
        
        div[style*="background: #f0f8ff"] {
            background: #0d47a1 !important;
        }
        
        div[style*="background: #ffebee"] {
            background: #b71c1c !important;
        }
        div[style*="background: #ffebee"] h4,
        div[style*="background: #ffebee"] ul li {
            color: #ffcdd2 !important;
        }
        
        /* Tabelas */
        table {
            background: #2a2a3e !important;
            color: #e0e0e0;
        }
        th {
            background: #1e1e2e !important;
            color: #64b5f6 !important;
            border-color: #444 !important; 
        }
        td {
            border-color: #444 !important;
            color: #e0e0e0 !important;
        }
        tr:nth-child(even) {
            background: #333346 !important;
        }
        
        /* Aplicar texto preto apenas para c√©lulas com classe espec√≠fica */
        .texto-preto {
            color: #1a1a1a !important;
        }
        
        /* Corrigir apenas os textos espec√≠ficos mencionados */
        td:nth-child(3) {
            color: #e0e0e0 !important; /* Manter branco para observa√ß√µes */
        }
        td:nth-child(3):contains("Workflows, aprova√ß√µes, atas internas"),
        td:nth-child(3):contains("Acordos comerciais de menor complexidade"),
        td:nth-child(3):contains("Rastreabilidade de altera√ß√µes documentais") {
            color: #1a1a1a !important; /* Preto apenas para estes 3 textos */
        }
        
        /* Modal */
        #userKeyModal > div {
            background: #1e1e2e !important;
            color: #e0e0e0 !important;
            border: 1px solid #444;
        }
        #userKeyModal h3 {
            color: #64b5f6 !important;
        }
        #userKeyModal > div > div:nth-child(2) {
            background: #2a2a3e !important;
            border-color: #64b5f6 !important;
        }
        #userKeyModal h2 {
            color: #64b5f6 !important;
        }
        #userKeyModal p {
            color: #e0e0e0 !important;
        }
        #userKeyModal button {
            background: #64b5f6 !important;
        }
        
        /* Small elements */
        small {
            color: #b0b0b0 !important;
        }
          /* Scrollbar para dark theme */
        .documentation::-webkit-scrollbar {
            width: 8px;
        }
        .documentation::-webkit-scrollbar-track {
            background: #2a2a3e;
        }
        .documentation::-webkit-scrollbar-thumb {
            background: #555;
            border-radius: 4px;
        }
        .documentation::-webkit-scrollbar-thumb:hover {
            background: #777; 
        }

        /* ===== ESTILOS PARA BARRA DE FOR√áA DE SENHA ===== */
        .password-strength-container {
            margin-top: 8px;
        }

        .password-strength-bar {
            width: 100%;
            height: 8px;
            background: #444;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 8px;
            border: 1px solid #555;
        }

        .password-strength-fill {
            height: 100%;
            width: 0%;
            background: #dc3545;
            transition: all 0.4s ease-in-out;
            border-radius: 4px;
            position: relative;
        }

        .password-strength-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, 
                transparent 25%, 
                rgba(255,255,255,0.1) 25%, 
                rgba(255,255,255,0.1) 50%, 
                transparent 50%, 
                transparent 75%, 
                rgba(255,255,255,0.1) 75%);
            background-size: 8px 8px;
            animation: progress-stripes 0.5s linear infinite;
        }

        @keyframes progress-stripes {
            0% { background-position: 0 0; }
            100% { background-position: 8px 0; }
        }

        .password-strength-text {
            font-size: 13px;
            font-weight: 600;
            color: #b0b0b0;
            transition: color 0.3s ease;
            margin-bottom: 5px;
        }

        .password-hints {
            background: #2a2a3e;
            border: 1px solid #444;
            border-radius: 6px;
            padding: 12px;
            margin-top: 10px;
            font-size: 12px;
        }

        .password-hints small {
            color: #b0b0b0 !important;
            font-weight: 600;
            display: block;
            margin-bottom: 8px;
        }

        .password-hints ul {
            margin: 0;
            padding-left: 16px;
            list-style-type: none;
        }

        .password-hints li {
            color: #dc3545;
            margin-bottom: 4px;
            position: relative;
            padding-left: 16px;
        }

        .password-hints li::before {
            content: '‚ùå';
            position: absolute;
            left: 0;
            font-size: 10px;
        }

        /* Estilos para diferentes n√≠veis de for√ßa */
        .password-strength-fill.very-weak {
            background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
        }

        .password-strength-fill.weak {
            background: linear-gradient(135deg, #fd7e14 0%, #e8590c 100%);
        }

        .password-strength-fill.medium {
            background: linear-gradient(135deg, #ffc107 0%, #e0a800 100%);
        }

        .password-strength-fill.strong {
            background: linear-gradient(135deg, #20c997 0%, #1aa179 100%);
        }

        .password-strength-fill.very-strong {
            background: linear-gradient(135deg, #28a745 0%, #1e7e34 100%);
        }

        /* Bot√£o de cadastro desabilitado */
        .btn:disabled {
            background: #555 !important;
            cursor: not-allowed !important;
            transform: none !important;
            opacity: 0.6;
            box-shadow: none !important;
        }

        .btn:disabled:hover {
            transform: none !important;
            box-shadow: none !important;
        }

        /* Mensagem de hint do bot√£o */
        #registerButtonHint {
            font-size: 12px;
            margin-top: 8px;
            padding: 8px;
            background: #2a2a3e;
            border: 1px solid #dc3545;
            border-radius: 6px;
            text-align: center;
        }

        /* Anima√ß√£o suave para transi√ß√µes */
        .form-group input,
        .password-strength-fill,
        .password-strength-text,
        .btn {
            transition: all 0.3s ease;
        }

        /* Campo de senha com foco especial */
        #regPassword:focus {
            border-color: #64b5f6 !important;
            background: #333346 !important;
            box-shadow: 0 0 0 2px rgba(100, 181, 246, 0.2);
        }        /* Responsividade para dispositivos m√≥veis */
        @media (max-width: 768px) {
            .password-strength-bar {
                height: 10px;
            }
            
            .password-strength-text {
                font-size: 12px;
            }
            
            .password-hints {
                font-size: 11px;
                padding: 10px;
            }
            
            #registerButtonHint {
                font-size: 11px;
            }
        }

        /* ===== ESTILOS PARA EXCLUS√ÉO DE CONTA ===== */
        
        /* Aviso de aten√ß√£o cr√≠tico */
        .deletion-warning {
            background: linear-gradient(135deg, #8b0000 0%, #dc3545 100%) !important;
            border: 2px solid #dc3545 !important;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
            box-shadow: 0 4px 15px rgba(220, 53, 69, 0.3);
            animation: subtle-pulse 3s ease-in-out infinite;
        }

        @keyframes subtle-pulse {
            0%, 100% { box-shadow: 0 4px 15px rgba(220, 53, 69, 0.3); }
            50% { box-shadow: 0 6px 20px rgba(220, 53, 69, 0.5); }
        }

        .deletion-warning h4 {
            color: #ffcccc !important;
            font-size: 1.2em;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .deletion-warning h4::before {
            content: '‚ö†Ô∏è';
            font-size: 1.5em;
            animation: warning-blink 2s ease-in-out infinite;
        }

        @keyframes warning-blink {
            0%, 50%, 100% { opacity: 1; }
            25%, 75% { opacity: 0.6; }
        }

        .deletion-warning ul {
            margin: 15px 0;
            padding-left: 25px;
            color: #ffcccc !important;
        }

        .deletion-warning ul li {
            margin-bottom: 8px;
            position: relative;
        }

        .deletion-warning ul li::before {
            content: 'üîí';
            position: absolute;
            left: -25px;
            font-size: 14px;
        }

        /* Status de exclus√£o pendente */
        #deletionPendingStatus {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%) !important;
            border: 2px solid #ffc107 !important;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
            box-shadow: 0 4px 15px rgba(255, 193, 7, 0.3);
            animation: pending-glow 2s ease-in-out infinite;
        }

        @keyframes pending-glow {
            0%, 100% { box-shadow: 0 4px 15px rgba(255, 193, 7, 0.3); }
            50% { box-shadow: 0 6px 20px rgba(255, 193, 7, 0.5); }
        }

        #deletionPendingStatus h4 {
            color: #856404 !important;
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        #deletionPendingStatus h4::before {
            content: '‚è∞';
            font-size: 1.3em;
            animation: clock-tick 1s ease-in-out infinite;
        }

        @keyframes clock-tick {
            0%, 50%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(5deg); }
            75% { transform: rotate(-5deg); }
        }

        /* Bot√µes de a√ß√£o na exclus√£o pendente */
        #deletionPendingStatus button {
            margin: 5px;
            padding: 12px 18px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-size: 13px;
        }

        #deletionPendingStatus button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }

        /* Formul√°rio de exclus√£o */
        #accountDeletionForm {
            background: #2a2a3e;
            padding: 25px;
            border-radius: 10px;
            border: 1px solid #444;
            margin-top: 20px;
        }

        #accountDeletionForm .form-group {
            margin-bottom: 20px;
        }

        #accountDeletionForm input {
            background: #1e1e2e !important;
            border: 2px solid #444 !important;
            color: #e0e0e0 !important;
            padding: 12px !important;
            border-radius: 8px !important;
            transition: all 0.3s ease;
        }

        #accountDeletionForm input:focus {
            border-color: #dc3545 !important;
            background: #333346 !important;
            box-shadow: 0 0 0 2px rgba(220, 53, 69, 0.2);
        }

        #accountDeletionForm input::placeholder {
            color: #888 !important;
        }

        /* Checkbox de confirma√ß√£o especial */
        .deletion-confirmation {
            background: #f8f9fa !important;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #dc3545 !important;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .deletion-confirmation label {
            display: flex !important;
            align-items: center !important;
            cursor: pointer !important;
            font-weight: bold !important;
            color: #dc3545 !important;
            line-height: 1.4;
        }

        .deletion-confirmation input[type="checkbox"] {
            margin-right: 15px !important;
            transform: scale(1.3) !important;
            accent-color: #dc3545;
        }

        /* Bot√£o de exclus√£o */
        .btn-delete {
            background: linear-gradient(135deg, #dc3545 0%, #c82333 100%) !important;
            border: none !important;
            color: white !important;
            padding: 15px 30px !important;
            border-radius: 8px !important;
            font-size: 16px !important;
            font-weight: 600 !important;
            cursor: pointer !important;
            transition: all 0.3s ease !important;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 4px 15px rgba(220, 53, 69, 0.3);
        }

        .btn-delete:hover {
            transform: translateY(-3px) !important;
            box-shadow: 0 6px 20px rgba(220, 53, 69, 0.5) !important;
            background: linear-gradient(135deg, #c82333 0%, #a71e2a 100%) !important;
        }

        /* Modal de declara√ß√£o legal */
        #deletionDeclarationModal {
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
        }

        #deletionDeclarationModal > div {
            background: #1e1e2e !important;
            border: 2px solid #444 !important;
            box-shadow: 0 10px 30px rgba(0,0,0,0.7) !important;
            animation: modal-appear 0.3s ease-out;
        }

        @keyframes modal-appear {
            from {
                opacity: 0;
                transform: translateX(-50%) translateY(-60px) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translateX(-50%) translateY(0) scale(1);
            }
        }

        #deletionDeclarationModal h2 {
            color: #dc3545 !important;
            text-align: center;
            margin-bottom: 15px;
            font-size: 1.8em;
        }

        #deletionDeclarationModal h3 {
            color: #b0b0b0 !important;
            text-align: center;
            margin-bottom: 25px;
            font-weight: 400;
        }

        /* Conte√∫do da declara√ß√£o */
        #deletionDeclarationContent {
            background: #2a2a3e !important;
            border: 1px solid #444 !important;
            color: #e0e0e0 !important;
            font-family: 'Georgia', serif;
            scrollbar-width: thin;
            scrollbar-color: #555 #2a2a3e;
        }

        #deletionDeclarationContent::-webkit-scrollbar {
            width: 8px;
        }

        #deletionDeclarationContent::-webkit-scrollbar-track {
            background: #2a2a3e;
            border-radius: 4px;
        }

        #deletionDeclarationContent::-webkit-scrollbar-thumb {
            background: #555;
            border-radius: 4px;
        }

        #deletionDeclarationContent::-webkit-scrollbar-thumb:hover {
            background: #777;
        }

        #deletionDeclarationContent p {
            margin-bottom: 15px !important;
            text-indent: 20px;
            color: #e0e0e0 !important;
        }

        /* Aviso de 24 horas */
        .hours-warning {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%) !important;
            border: 2px solid #ffc107 !important;
            padding: 20px;
            border-radius: 10px;
            margin: 25px 0;
        }

        .hours-warning h4 {
            color: #856404 !important;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .hours-warning h4::before {
            content: '‚è∞';
            font-size: 1.2em;
        }

        .hours-warning p {
            color: #856404 !important;
            margin: 0;
            line-height: 1.5;
        }

        /* Bot√µes do modal */
        .modal-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 30px;
        }

        .modal-buttons button {
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-size: 13px;
            min-width: 150px;
        }

        .modal-buttons button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }

        /* Bot√£o excluir imediatamente */
        .btn-immediate-delete {
            background: linear-gradient(135deg, #dc3545 0%, #c82333 100%) !important;
            color: white !important;
        }

        .btn-immediate-delete:hover {
            background: linear-gradient(135deg, #c82333 0%, #a71e2a 100%) !important;
        }

        /* Bot√£o aguardar 24 horas */
        .btn-wait-24h {
            background: linear-gradient(135deg, #ffc107 0%, #e0a800 100%) !important;
            color: #856404 !important;
        }

        .btn-wait-24h:hover {
            background: linear-gradient(135deg, #e0a800 0%, #d39e00 100%) !important;
        }

        /* Bot√£o cancelar */
        .btn-cancel-deletion {
            background: linear-gradient(135deg, #28a745 0%, #1e7e34 100%) !important;
            color: white !important;
        }

        .btn-cancel-deletion:hover {
            background: linear-gradient(135deg, #1e7e34 0%, #155724 100%) !important;
        }

        /* Indicador visual de processo cr√≠tico */
        .critical-process {
            position: relative;
            overflow: hidden;
        }

        .critical-process::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(220, 53, 69, 0.1), 
                transparent);
            animation: critical-sweep 3s ease-in-out infinite;
        }

        @keyframes critical-sweep {
            0% { left: -100%; }
            50% { left: 100%; }
            100% { left: 100%; }
        }

        /* Responsividade para dispositivos m√≥veis */
        @media (max-width: 768px) {
            #deletionDeclarationModal > div {
                margin: 20px;
                padding: 20px;
                max-width: calc(100% - 40px);
                top: 20px;
                transform: translateX(-50%) translateY(0);
            }
            
            .modal-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .modal-buttons button {
                width: 100%;
                max-width: 300px;
                margin-bottom: 10px;
            }
            
            .deletion-warning,
            #deletionPendingStatus,
            #accountDeletionForm {
                padding: 15px;
                margin-bottom: 15px;
            }
            
            .deletion-warning h4 {
                font-size: 1.1em;
            }
        }

        /* Anima√ß√£o de aten√ß√£o para elementos cr√≠ticos */
        .attention-blink {
            animation: attention-blink 1.5s ease-in-out infinite;
        }

        @keyframes attention-blink {
            0%, 50%, 100% { opacity: 1; }
            25%, 75% { opacity: 0.7; }
        }

        /* Efeito hover para aba de exclus√£o */
        .tab[onclick*="delete"]:hover {
            background: #4a1a1a !important;
            color: #ff6b6b !important;
            border-color: #dc3545 !important;
        }

        /* Estado ativo da aba de exclus√£o */
        .tab[onclick*="delete"].active {
            background: #1e1e2e !important;
            color: #ff6b6b !important;
            border-bottom-color: #1e1e2e !important;
            box-shadow: 0 -2px 10px rgba(220, 53, 69, 0.3);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üîê Assinatura Digital</h1>
            <p>Sistema de assinatura e verifica√ß√£o de documentos PDF</p>
        </div>
        
        <div class="tabs">
            <button class="tab-button active" onclick="switchTab('sign')">Assinar PDF</button>
            <button class="tab-button" onclick="switchTab('blockchain')">Registrar comprovante de valida√ß√£o de exist√™ncia</button>
            <button class="tab-button" onclick="switchTab('verify')">Verificar Assinatura</button>
            <button class="tab-button" onclick="switchTab('account')">üë§ Conta</button>
            <button class="tab-button" onclick="switchTab('docs')">üìã Documenta√ß√£o</button>
        </div>
        
        <div id="sign-tab" class="tab-content active">
            <!-- Removido seletor de m√©todo - apenas assinatura autenticada -->
            <div style="background: #fff3cd; padding: 15px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #ffc107;">
                <h4 style="color: #856404; margin: 0 0 10px 0;">‚ö†Ô∏è Autentica√ß√£o Obrigat√≥ria + CAdES</h4>
                <p style="color: #856404; margin: 0;">Para garantir m√°xima seguran√ßa, a assinatura de documentos agora requer login com email, senha e chave de tripla valida√ß√£o. O sistema tamb√©m gera assinatura CAdES (.p7s) junto com o PDF.</p>
            </div>

            <!-- Login form (sempre vis√≠vel se n√£o logado) -->
            <div id="loginSection" style="background:rgb(0, 149, 255); padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                <h3>üîê Login Seguro:</h3>
                <div class="form-group">
                    <label for="loginEmail">Email:</label>
                    <input type="email" id="loginEmail" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">Senha:</label>
                    <input type="password" id="loginPassword" required>
                </div>
                <div class="form-group">
                    <label for="loginUserKey">Chave de Tripla Valida√ß√£o:</label>
                    <input type="text" id="loginUserKey" required placeholder="Ex: ABC123" style="text-transform: uppercase;">
                    <small style="color: #6c757d;">Esta chave foi gerada no seu cadastro baseada no seu email</small>
                </div>
                <div class="form-group">
                    <label for="loginMathAnswer">Resolva: <span id="loginMathQuestion">Carregando...</span></label>
                    <input type="number" id="loginMathAnswer" required placeholder="Digite a resposta">
                    <input type="hidden" id="loginMathResult">
                </div>
                <button type="button" class="btn" onclick="loginUser()" style="width: auto;">üîì Fazer Login</button>
                <div id="loginResult" style="margin-top: 10px;"></div>
            </div>

            <!-- Status do usu√°rio logado -->
            <div id="userStatus" style="display: none; background:rgb(8, 8, 8); padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                <h4>‚úÖ Usu√°rio Autenticado:</h4>
                <p id="userInfo"></p>
                <button type="button" onclick="logoutUser()" style="background: #dc3545; color: white; border: none; padding: 8px 15px; border-radius: 4px;">Sair</button>
            </div>

            <form id="signForm">
                <div class="form-group">
                    <label for="fullName">Nome Completo:</label>
                    <input type="text" id="fullName" name="fullName" required> 
                </div>
                
                <div class="form-group">
                    <label for="cpf">CPF:</label>
                    <input type="text" id="cpf" name="cpf" required>
                </div>
                
                <div class="form-group">
                    <label for="dob">Data de Nascimento:</label>
                    <input type="date" id="dob" name="dob" required>
                </div>
                
                <div class="file-upload" onclick="document.getElementById('pdfInput').click()">
                    <input type="file" id="pdfInput" accept=".pdf" required>
                    <div id="sign-file-display">
                        <strong>üìÑ Clique aqui ou arraste um PDF</strong>
                    </div>
                </div>
                  <div class="aceite-section">
                    <!-- Bot√£o para ler o termo de aceite -->
                    <div style="margin-bottom: 15px; text-align: center;">
                        <button type="button" onclick="showTermsModal()" style="background: #007bff; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; font-size: 14px;">
                            üìã Ler Termo de Aceite Completo
                        </button>
                    </div>
                    
                    <label>
                        <input type="checkbox" id="aceiteCheckbox" required>
                        Aceito os termos de uso e autorizo a assinatura digital deste documento
                    </label>
                    <div id="aceite-info"></div>
                </div>
                
                <!-- Campo matem√°tico para assinatura -->
                <div class="form-group" id="signMathSection" style="display: none;">
                    <label for="signMathAnswer">üî¢ Confirme sua identidade resolvendo: <span id="signMathQuestion">Carregando...</span></label>
                    <input type="number" id="signMathAnswer" required placeholder="Digite a resposta">
                    <input type="hidden" id="signMathResult">
                </div>
                
                <button type="button" class="btn" onclick="signPdf()" id="signButton" disabled>üîè Fazer Login Para Assinar</button>
            </form>
            
            <div id="signResult" class="result"></div>
        </div>
        
        <div id="blockchain-tab" class="tab-content">
            <div style="background: #e8f5e8; padding: 15px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #28a745;">
                <h4 style="color: #155724; margin: 0 0 10px 0;">üîó Registro Blockchain</h4>
                <p style="color: #155724; margin: 0;">Registre qualquer tipo de arquivo com tecnologia blockchain. Gera um arquivo .ots para valida√ß√£o.</p>
                <p style="color: #155724; margin: 0;">"ots" significa OpenTimestamps. √â um arquivo de carimbo do tempo (timestamp) baseado em blockchain, que prova que um determinado documento existia em um momento espec√≠fico, sem revelar seu conte√∫do.</p>
                <p style="color: #155724; margin: 0;">Esse .ots n√£o √© o documento assinado, mas sim um comprovante de valida√ß√£o de exist√™ncia via blockchain. Ele funciona como um recibo criptogr√°fico que pode ser verificado publicamente. Para validar depois, voc√™ usa o .ots junto do documento original para provar que ele existia naquela data.</p>
                <p style="color: #155724; margin: 0;">O registro em blockchain √© uma forma segura e imut√°vel de garantir a integridade e a autenticidade dos documentos. E serve como comprova√ß√£o que um documento n√£o foi adulterado.</p>
            </div>

            <!-- Login necess√°rio para blockchain tamb√©m -->
            <div id="blockchainLoginSection" style="background: #e3f2fd; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                <h3>üîê Login Necess√°rio</h3>
                <p>Para assinar documentos com blockchain, voc√™ deve estar logado. Use a aba "Conta" para fazer login.</p>
            </div>

            <!-- Status do usu√°rio logado para blockchain -->
            <div id="blockchainUserStatus" style="display: none; background:rgb(0, 0, 0); padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                <h4>‚úÖ Usu√°rio Autenticado:</h4>
                <p id="blockchainUserInfo"></p>
            </div>

            <form id="blockchainForm">
                <div class="file-upload" onclick="document.getElementById('blockchainFileInput').click()">
                    <input type="file" id="blockchainFileInput" accept="*/*" required>
                    <div id="blockchain-file-display">
                        <strong>üìÑ Clique aqui para selecionar qualquer arquivo</strong>
                        <br><small>Qualquer tipo de arquivo √© aceito</small>
                    </div>
                </div>

                <!-- Campo matem√°tico para assinatura blockchain -->
                <div class="form-group" id="blockchainMathSection" style="display: none;">
                    <label for="blockchainMathAnswer">üî¢ Confirme sua identidade resolvendo: <span id="blockchainMathQuestion">Carregando...</span></label>
                    <input type="number" id="blockchainMathAnswer" required placeholder="Digite a resposta">
                    <input type="hidden" id="blockchainMathResult">
                </div>

                <button type="button" class="btn" onclick="generateOTS()" id="blockchainButton" disabled>üîó Fazer Login Para Assinar</button>
            </form>

            <div id="blockchainResult" class="result"></div>

            <!-- Se√ß√£o de verifica√ß√£o de .ots -->
            <div style="margin-top: 40px; padding-top: 30px; border-top: 2px solid #e9ecef;">
                <h3>üîç Verificar Autenticidade do arquivo OpenTimestamps(.ots)</h3>
                <p>Selecione o arquivo original e o arquivo .ots para verificar a autenticidade:</p>

                <form id="verifyOtsForm">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
                        <div>
                            <h4>Arquivo Original</h4>
                            <div class="file-upload" onclick="document.getElementById('originalFileInput').click()">
                                <input type="file" id="originalFileInput" accept="*/*" required>
                                <div id="original-file-display">
                                    <strong>üìÑ Arquivo Original</strong>
                                </div>
                            </div>
                        </div>

                        <div>
                            <h4>Arquivo .ots</h4>
                            <div class="file-upload" onclick="document.getElementById('otsFileInput').click()">
                                <input type="file" id="otsFileInput" accept=".ots" required>
                                <div id="ots-file-display">
                                    <strong>üîê Arquivo .ots</strong>
                                </div>
                            </div>
                        </div>
                    </div>

                    <button type="button" class="btn" onclick="verifyOTS()" style="margin-top: 20px;">‚úÖ Verificar Autenticidade</button>
                </form>

                <div id="verifyOtsResult" class="result"></div>
            </div>
        </div>

        <div id="verify-tab" class="tab-content">
            <div class="tabs">
                <button class="tab-button active" onclick="switchVerifyTab('normal')">Verifica√ß√£o Normal</button>
                <button class="tab-button" onclick="switchVerifyTab('cades')">Verifica√ß√£o com Certificado Digital</button>
            </div>

            <div id="normal-verify" class="verify-section active">
                <div style="background: #e3f2fd; padding: 15px; border-radius: 8px; margin-bottom: 20px; border: 1px solidrgb(98, 3, 250);">
                    <h4 style="color:rgb(21, 255, 0); margin: 0 0 10px 0;">‚ÑπÔ∏è Verifica√ß√£o Normal</h4>
                    <p style="color:rgb(0, 4, 240); margin: 0;">Verifica apenas o PDF assinado atrav√©s dos metadados internos e blockchain.</p>
                </div>
                
                <div class="file-upload" onclick="document.getElementById('signedPdfInput').click()">
                    <input type="file" id="signedPdfInput" accept=".pdf" required>
                    <div id="verify-file-display">
                        <strong>üîç Selecione o PDF assinado para verifica√ß√£o</strong>
                    </div>
                </div>
                
                <button type="button" class="btn" onclick="verifySignature()">‚úÖ Verificar Assinatura</button>
                
                <div id="verifyResult" class="result"></div>
            </div>

            <div id="cades-verify" class="verify-section" style="display:none;">
                <div style="background: #e8f5e8; padding: 15px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #4caf50;">
                    <h4 style="color: #2e7d32; margin: 0 0 10px 0;">üîê Verifica√ß√£o certificado digital (Mais Segura)</h4>
                    <p style="color: #2e7d32; margin: 0;">Verifica o PDF usando assinatura CAdES (.p7s) com chaves assim√©tricas RSA.</p>
                    <p style="color: #2e7d32; margin: 5px 0 0 0;"><strong>Requer:</strong> PDF assinado + arquivo .p7s (ambos v√™m no ZIP baixado)</p>
                </div>

                <div class="file-upload" onclick="document.getElementById('cadesSignedPdfInput').click()">
                    <input type="file" id="cadesSignedPdfInput" accept=".pdf" required>
                    <div id="cades-verify-pdf-display">
                        <strong>üîç Selecione o PDF assinado</strong>
                        <br><small>Extraia do arquivo ZIP baixado</small>
                    </div>
                </div>

                <div class="file-upload" onclick="document.getElementById('p7sFileInput').click()">
                    <input type="file" id="p7sFileInput" accept=".p7s" required>
                    <div id="cades-verify-p7s-display">
                        <strong>üîê Selecione o arquivo .p7s</strong>
                        <br><small>Extraia do arquivo ZIP baixado</small>
                    </div>
                </div>
                
                <button type="button" class="btn" onclick="verifyCadesSignature()">‚úÖ Verificar Assinatura Digital</button>
                
                <div id="cadesVerifyResult" class="result"></div>
            </div>
        </div>        <!-- Aba de conta atualizada -->
        <div id="account-tab" class="tab-content">
            <div class="tabs" style="margin-bottom: 20px;">
                <button class="tab active" onclick="switchAccountTab('register')">Cadastrar</button>
                <button class="tab" onclick="switchAccountTab('login')">Login</button>
                <button class="tab" onclick="switchAccountTab('delete')">üóëÔ∏è Excluir Conta</button>
            </div>            <!-- Cadastro -->
            <div id="register-section" class="account-section">
                <h2>üìù Cadastrar Usu√°rio</h2>
                <p>Crie uma conta para assinatura autenticada com email, senha e chave de tripla valida√ß√£o:</p>
                
                <!-- Aviso sobre senha forte -->
                <div style="background: #1b5e20; padding: 15px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #2e7d32;">
                    <h4 style="color: #c8e6c9; margin: 0 0 10px 0;">üîí Requisitos de Senha Segura</h4>
                    <p style="color: #c8e6c9; margin: 0; font-size: 14px;">
                        Por seguran√ßa, apenas senhas com n√≠vel <strong>M√âDIO</strong> ou superior s√£o aceitas. 
                        A barra abaixo mostrar√° a for√ßa da sua senha em tempo real.
                    </p>
                </div>
                
                <form id="registerForm">
                    <div class="form-group">
                        <label for="regEmail">Email:</label>
                        <input type="email" id="regEmail" required>
                    </div>
                      <div class="form-group">
                        <label for="regPassword">Senha:</label>
                        <input type="password" id="regPassword" required minlength="6">
                        
                        <!-- Barra de for√ßa da senha -->
                        <div class="password-strength-container" style="margin-top: 8px;">
                            <div class="password-strength-bar">
                                <div id="passwordStrengthFill" class="password-strength-fill"></div>
                            </div>
                            <div id="passwordStrengthText" class="password-strength-text">Digite uma senha</div>
                        </div>
                        
                        <!-- Dicas de senha -->
                        <div id="passwordHints" class="password-hints" style="display: none;">
                            <small>A senha deve conter:</small>
                            <ul id="passwordHintsList"></ul>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="regFullName">Nome Completo:</label>
                        <input type="text" id="regFullName" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="regCpf">CPF:</label>
                        <input type="text" id="regCpf" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="regDob">Data de Nascimento:</label>
                        <input type="date" id="regDob" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="regMathAnswer">üî¢ Resolva: <span id="regMathQuestion">Carregando...</span></label>
                        <input type="number" id="regMathAnswer" required placeholder="Digite a resposta">
                        <input type="hidden" id="regMathResult">
                    </div>
                    
                    <button type="button" class="btn" id="registerButton" onclick="registerUser()" disabled>üìù Cadastrar</button>
                    <small id="registerButtonHint" style="color: #dc3545; display: block; margin-top: 5px;">
                        ‚ö†Ô∏è Preencha todos os campos e use uma senha com n√≠vel m√©dio ou superior
                    </small>
                </form>
                
                <div id="registerResult" class="result"></div>
                
                <!-- Modal para exibir chave do usu√°rio -->
                <div id="userKeyModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000;">
                    <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 30px; border-radius: 10px; text-align: center; max-width: 400px;">
                        <h3 style="color: #007bff; margin-bottom: 20px;">üîë Sua Chave de Tripla Valida√ß√£o</h3>
                        <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0; border: 2px solid #007bff;">
                            <h2 id="userKeyDisplay" style="color: #007bff; font-family: monospace; letter-spacing: 3px;"></h2>
                        </div>
                        <p style="color: #dc3545; font-weight: bold;">‚ö†Ô∏è IMPORTANTE: Salve esta chave em local seguro!</p>
                        <p style="font-size: 14px; color: #6c757d;">Esta chave √© baseada no seu email e ser√° necess√°ria para todos os logins.</p>
                        <button onclick="closeUserKeyModal()" style="background: #007bff; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer;">Entendi, salvei a chave!</button>
                    </div>
                </div>
            </div>

            <!-- Login standalone -->
            <div id="login-section" class="account-section" style="display: none;">
                <h2>üîì Login</h2>
                <p>Fa√ßa login em sua conta:</p>
                
                <!-- Status do usu√°rio logado na aba Login -->
                <div id="loginAccountStatus" style="display: none; background: #1b5e20; padding: 15px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #2e7d32;">
                    <h4 style="color: #c8e6c9;">‚úÖ Usu√°rio Autenticado:</h4>
                    <p id="loginAccountInfo" style="color: #c8e6c9;"></p>
                    <button type="button" onclick="logoutUser()" style="background: #dc3545; color: white; border: none; padding: 8px 15px; border-radius: 4px;">Sair</button>
                </div>
                
                <form id="standaloneLoginForm">
                    <div class="form-group">
                        <label for="standaloneEmail">Email:</label>
                        <input type="email" id="standaloneEmail" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="standalonePassword">Senha:</label>
                        <input type="password" id="standalonePassword" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="standaloneUserKey">Chave de Tripla Valida√ß√£o:</label>
                        <input type="text" id="standaloneUserKey" required placeholder="Ex: ABC123" style="text-transform: uppercase;">
                    </div>
                    
                    <div class="form-group">
                        <label for="standaloneMathAnswer">Resolva: <span id="standaloneMathQuestion">Carregando...</span></label>
                        <input type="number" id="standaloneMathAnswer" required placeholder="Digite a resposta">
                        <input type="hidden" id="standaloneMathResult">
                    </div>
                    
                    <button type="button" class="btn" onclick="standaloneLogin()">üîì Fazer Login</button>
                </form>
                
                <div id="standaloneLoginResult" class="result"></div>
            </div>

            <!-- Nova se√ß√£o: Excluir Conta -->
            <div id="delete-section" class="account-section" style="display: none;">
                <h2>üóëÔ∏è Excluir Conta</h2>
                
                <!-- Aviso importante sobre exclus√£o -->
                <div style="background: #8b0000; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 2px solid #dc3545;">
                    <h4 style="color: #ffcccc; margin: 0 0 15px 0;">‚ö†Ô∏è ATEN√á√ÉO: EXCLUS√ÉO PERMANENTE</h4>
                    <div style="color: #ffcccc; font-size: 14px; line-height: 1.6;">
                        <p><strong>Esta a√ß√£o √© IRREVERS√çVEL!</strong> Para excluir sua conta, voc√™ deve confirmar todos os seus dados:</p>
                        <ul style="margin: 10px 0; padding-left: 20px;">
                            <li>Nome completo exato</li>
                            <li>Email de cadastro</li>
                            <li>Senha atual</li>
                            <li>CPF</li>
                            <li>Data de nascimento</li>
                            <li>Chave de tripla valida√ß√£o</li>
                            <li>Resolver desafio matem√°tico</li>
                        </ul>
                        <p><strong>IMPORTANTE:</strong> As assinaturas digitais realizadas anteriormente permanecer√£o v√°lidas mesmo ap√≥s a exclus√£o da conta.</p>
                    </div>
                </div>

                <!-- Status de exclus√£o pendente -->
                <div id="deletionPendingStatus" style="display: none; background: #fff3cd; padding: 15px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #ffc107;">
                    <h4 style="color: #856404; margin: 0 0 10px 0;">‚è∞ Exclus√£o Agendada</h4>
                    <p id="deletionStatusMessage" style="color: #856404; margin: 0;"></p>
                    <div style="margin-top: 15px;">
                        <button type="button" onclick="confirmImmediateDeletion()" style="background: #dc3545; color: white; border: none; padding: 8px 15px; border-radius: 4px; margin-right: 10px;">üóëÔ∏è Excluir Agora</button>
                        <button type="button" onclick="cancelDeletion()" style="background: #28a745; color: white; border: none; padding: 8px 15px; border-radius: 4px;">‚ùå Cancelar Exclus√£o</button>
                    </div>
                </div>

                <!-- Formul√°rio de exclus√£o -->
                <div id="deletionForm">
                    <p style="color: #666; font-size: 14px;">Para sua seguran√ßa, confirme todos os seus dados cadastrais:</p>
                    
                    <form id="accountDeletionForm">
                        <div class="form-group">
                            <label for="deleteEmail">Email:</label>
                            <input type="email" id="deleteEmail" required placeholder="Digite seu email exato">
                        </div>
                        
                        <div class="form-group">
                            <label for="deletePassword">Senha:</label>
                            <input type="password" id="deletePassword" required placeholder="Digite sua senha atual">
                        </div>
                        
                        <div class="form-group">
                            <label for="deleteFullName">Nome Completo:</label>
                            <input type="text" id="deleteFullName" required placeholder="Digite seu nome completo exato">
                        </div>
                        
                        <div class="form-group">
                            <label for="deleteCpf">CPF:</label>
                            <input type="text" id="deleteCpf" required placeholder="Digite seu CPF">
                        </div>
                        
                        <div class="form-group">
                            <label for="deleteDob">Data de Nascimento:</label>
                            <input type="date" id="deleteDob" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="deleteUserKey">Chave de Tripla Valida√ß√£o:</label>
                            <input type="text" id="deleteUserKey" required placeholder="Ex: ABC123" style="text-transform: uppercase;">
                        </div>
                        
                        <div class="form-group">
                            <label for="deleteMathAnswer">üî¢ Resolva: <span id="deleteMathQuestion">Carregando...</span></label>
                            <input type="number" id="deleteMathAnswer" required placeholder="Digite a resposta">
                            <input type="hidden" id="deleteMathResult">
                        </div>
                        
                        <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 15px 0; border-left: 4px solid #dc3545;">
                            <label style="display: flex; align-items: center; cursor: pointer; font-weight: bold; color: #dc3545;">
                                <input type="checkbox" id="confirmDeletion" required style="margin-right: 10px; transform: scale(1.2);">
                                Confirmo que compreendo que esta a√ß√£o √© IRREVERS√çVEL e que aceito a exclus√£o permanente da minha conta
                            </label>
                        </div>
                        
                        <button type="button" class="btn" onclick="requestAccountDeletion()" style="background: #dc3545; color: white;">üóëÔ∏è Solicitar Exclus√£o da Conta</button>
                    </form>
                    
                    <div id="deletionResult" class="result"></div>
                </div>

                <!-- Modal de declara√ß√£o legal -->
                <div id="deletionDeclarationModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 2000; overflow-y: auto;">
                    <div style="position: relative; top: 50px; left: 50%; transform: translateX(-50%); background: white; padding: 30px; border-radius: 10px; max-width: 800px; margin: 50px auto;">
                        <div style="text-align: center; margin-bottom: 30px;">
                            <h2 style="color: #dc3545; margin-bottom: 10px;">‚öñÔ∏è DECLARA√á√ÉO LEGAL</h2>
                            <h3 style="color: #666; margin: 0;">Irrevogabilidade de Assinaturas Digitais</h3>
                        </div>
                        
                        <div id="deletionDeclarationContent" style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0; max-height: 400px; overflow-y: auto; text-align: justify; line-height: 1.6; font-size: 14px; border: 1px solid #ddd;">
                            <!-- Conte√∫do ser√° preenchido via JavaScript -->
                        </div>
                        
                        <div style="background: #fff3cd; padding: 15px; border-radius: 8px; margin: 20px 0; border: 1px solid #ffc107;">
                            <h4 style="color: #856404; margin: 0 0 10px 0;">‚è∞ Prazo de Reflex√£o - 24 Horas</h4>
                            <p style="color: #856404; margin: 0; font-size: 14px;">
                                <strong>Sua conta permanecer√° ativa por 24 horas.</strong> Se voc√™ n√£o acessar o sistema neste per√≠odo, 
                                a exclus√£o ser√° executada automaticamente. Caso deseje cancelar, basta fazer login novamente.
                            </p>
                        </div>
                        
                        <div style="text-align: center; margin-top: 30px;">
                            <p style="color: #dc3545; font-weight: bold; margin-bottom: 20px;">
                                Escolha uma das op√ß√µes abaixo:
                            </p>
                            <button onclick="confirmImmediateDeletion()" style="background: #dc3545; color: white; border: none; padding: 12px 20px; border-radius: 5px; margin: 0 10px; cursor: pointer; font-weight: bold;">
                                üóëÔ∏è Excluir Imediatamente
                            </button>
                            <button onclick="acceptDeletionIn24Hours()" style="background: #ffc107; color: #856404; border: none; padding: 12px 20px; border-radius: 5px; margin: 0 10px; cursor: pointer; font-weight: bold;">
                                ‚è∞ Aguardar 24 Horas
                            </button>
                            <button onclick="closeDeletionModal()" style="background: #28a745; color: white; border: none; padding: 12px 20px; border-radius: 5px; margin: 0 10px; cursor: pointer; font-weight: bold;">
                                ‚ùå Cancelar Exclus√£o
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="docs-tab" class="tab-content">
            <div class="documentation">
                <h2>üìã DOCUMENTA√á√ÉO T√âCNICA E POL√çTICA DE ASSINATURA ELETR√îNICA</h2>
                <h3>SISTEMA AUTENTICADOS DIGITAL</h3>

                <div class="doc-section">
                    <h3>1. INTRODU√á√ÉO</h3>
                    <p>Este documento apresenta a documenta√ß√£o t√©cnica e a pol√≠tica de assinatura eletr√¥nica do Sistema Autenticados Digital, uma aplica√ß√£o web desenvolvida para permitir a assinatura eletr√¥nica de documentos em formato PDF, garantindo a <strong>autenticidade</strong>, <strong>integridade</strong>, <strong>rastreabilidade</strong> e o <strong>n√£o rep√∫dio</strong> dos documentos assinados.</p>
                </div>

                <div class="doc-section">
                    <h3>üîê FUNCIONALIDADES PRINCIPAIS</h3>
                    
                    <h4>Sistema de Autentica√ß√£o Avan√ßado</h4>
                    <div style="background: #f0f8ff; padding: 15px; border-radius: 5px; margin: 10px 0;">
                        <p><strong>‚úÖ Cadastro Seguro de Usu√°rios:</strong></p>
                        <ul style="margin-left: 20px;">
                            <li><strong>Valida√ß√£o rigorosa:</strong> CPF brasileiro, nome completo e email √∫nico</li>
                            <li><strong>Senha criptografada:</strong> Hash criptografado com salt aleat√≥rio para m√°xima seguran√ßa</li>
                            <li><strong>Chave de tripla valida√ß√£o:</strong> C√≥digo √∫nico baseado no email do usu√°rio</li>
                            <li><strong>Prote√ß√£o anti-bot:</strong> Desafio matem√°tico em cada opera√ß√£o</li>
                        </ul>
                        
                        <p><strong>‚úÖ Login com M√∫ltiplas Camadas:</strong></p>
                        <ul style="margin-left: 20px;">
                            <li><strong>Email + Senha:</strong> Autentica√ß√£o prim√°ria tradicional</li>
                            <li><strong>Chave de valida√ß√£o:</strong> Segundo fator de autentica√ß√£o √∫nico</li>
                            <li><strong>Desafio matem√°tico:</strong> Terceira camada contra automa√ß√£o maliciosa</li>
                            <li><strong>Sess√£o protegida:</strong> Dados do usu√°rio mantidos em mem√≥ria segura</li>
                        </ul>
                        
                        <p><strong>‚úÖ Benef√≠cios do Sistema de Autentica√ß√£o:</strong></p>
                        <ul style="margin-left: 20px;">
                            <li><strong>Rastreabilidade total:</strong> Cada assinatura vinculada ao usu√°rio autenticado</li>
                            <li><strong>N√£o rep√∫dio:</strong> Imposs√≠vel negar autoria da assinatura</li>
                            <li><strong>Auditoria completa:</strong> Registro de IP, localiza√ß√£o e timestamp</li>
                            <li><strong>Preenchimento autom√°tico:</strong> Dados pessoais carregados automaticamente</li>
                            <li><strong>Seguran√ßa multicamada:</strong> Tr√™s fatores de autentica√ß√£o independentes</li>
                            <li><strong>Prote√ß√£o contra fraude:</strong> Valida√ß√£o matem√°tica em cada opera√ß√£o</li>
                        </ul>
                    </div>

                    <h4>üìÑ Assinatura Digital de PDFs</h4>
                    <ul>
                        <li><strong>Carimbo visual:</strong> Marca gr√°fica na primeira p√°gina do documento</li>
                        <li><strong>Metadados criptografados:</strong> Informa√ß√µes do assinante embebidas no PDF</li>
                        <li><strong>Hash SHA-256:</strong> Impress√£o digital √∫nica do documento</li>
                        <li><strong>Valida√ß√£o CRC16:</strong> Verifica√ß√£o de integridade conforme ISO IEC 14443</li>
                        <li><strong>Assinatura HMAC:</strong> Autentica√ß√£o criptogr√°fica dos metadados</li>
                    </ul>

                    <h4>üîó Sistema Blockchain</h4>
                    <ul>
                        <li><strong>Proof-of-Work:</strong> Algoritmo de consenso criptogr√°fico</li>
                        <li><strong>Registro distribu√≠do:</strong> Armazenamento em blockchain externo</li>
                        <li><strong>Timestamp verific√°vel:</strong> Carimbo de tempo imut√°vel</li>
                        <li><strong>Valida√ß√£o cruzada:</strong> M√∫ltiplas camadas de verifica√ß√£o</li>
                    </ul>

                    <h4>üõ°Ô∏è Assinatura CAdES (Certificado Digital)</h4>
                    <ul>
                        <li><strong>Chaves RSA:</strong> Criptografia assim√©trica de 2048 bits</li>
                        <li><strong>Certificado X.509:</strong> Padr√£o internacional de PKI</li>
                        <li><strong>Arquivo .p7s:</strong> Assinatura destacada PKCS#7</li>
                        <li><strong>Download em ZIP:</strong> PDF + arquivo de assinatura</li>
                    </ul>

                    <h4>üìã Sistema OTS (Open Timestamps)</h4>
                    <ul>
                        <li><strong>Arquivos gen√©ricos:</strong> Assinatura de qualquer tipo de arquivo</li>
                        <li><strong>Criptografia AES-256:</strong> Prote√ß√£o dos arquivos .ots</li>
                        <li><strong>Blockchain p√∫blico:</strong> Registro em rede distribu√≠da</li>
                        <li><strong>Verifica√ß√£o independente:</strong> Valida√ß√£o sem servidor central</li>
                    </ul>
                </div>

                <div class="doc-section" style="background: #fff3e0; border-left-color: #ff9800;">
                    <h3>üìä RESUMO DA VALIDADE</h3>
                    
                    <h4>‚ùå LIMITA√á√ïES LEGAIS:</h4>
                    <ul>
                        <li><strong>√ìrg√£os P√∫blicos:</strong> N√£o aceito - requer certificado ICP-Brasil</li>
                        <li><strong>Bancos e Financeiras:</strong> N√£o aceito - exige certifica√ß√£o oficial</li>
                        <li><strong>Cart√≥rios:</strong> N√£o substitui reconhecimento de firma</li>
                        <li><strong>Contratos de alto valor:</strong> Pode n√£o ser aceito em disputas judiciais</li>
                        <li><strong>Documentos fiscais:</strong> N√£o atende legisla√ß√£o tribut√°ria</li>
                    </ul>

                    <h4>‚úÖ ONDE TEM VALIDADE:</h4>
                    <table style="width: 100%; border-collapse: collapse; margin: 15px 0;">
                        <tr style="background: #f8f9fa;">
                            <th style="border: 1px solid #dee2e6; padding: 8px; text-align: left;">Tipo de Documento</th>
                            <th style="border: 1px solid #dee2e6; padding: 8px; text-align: center;">Status</th>
                            <th style="border: 1px solid #dee2e6; padding: 8px; text-align: left;">Observa√ß√µes</th>
                        </tr>
                        <tr>
                            <td style="border: 1px solid #dee2e6; padding: 8px;"><strong>Contratos Privados Simples</strong></td>
                            <td style="border: 1px solid #dee2e6; padding: 8px; text-align: center; color: #28a745;"><strong>‚úÖ V√ÅLIDO</strong></td>
                            <td style="border: 1px solid #dee2e6; padding: 8px;">Lei 14.063/2020 - Assinatura eletr√¥nica simples</td>
                        </tr>
                        <tr style="background: #f8f9fa;">
                            <td style="border: 1px solid #dee2e6; padding: 8px;"><strong>Documentos Empresariais Internos</strong></td>
                            <td style="border: 1px solid #dee2e6; padding: 8px; text-align: center; color: #28a745;"><strong>‚úÖ V√ÅLIDO</strong></td>
                            <td style="border: 1px solid #dee2e6; padding: 8px; color: #1a1a1a !important;">Workflows, aprova√ß√µes, atas internas</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid #dee2e6; padding: 8px;"><strong>Termos de Uso e Pol√≠ticas</strong></td>
                            <td style="border: 1px solid #dee2e6; padding: 8px; text-align: center; color: #28a745;"><strong>‚úÖ V√ÅLIDO</strong></td>
                            <td style="border: 1px solid #dee2e6; padding: 8px;">Aceite de pol√≠ticas de privacidade e uso</td>
                        </tr>
                        <tr style="background: #f8f9fa;">
                            <td style="border: 1px solid #dee2e6; padding: 8px;"><strong>Contratos de Baixo Risco</strong></td>
                            <td style="border: 1px solid #dee2e6; padding: 8px; text-align: center; color: #28a745;"><strong>‚úÖ V√ÅLIDO</strong></td>
                            <td style="border: 1px solid #dee2e6; padding: 8px; color: #1a1a1a !important;">Acordos comerciais de menor complexidade</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid #dee2e6; padding: 8px;"><strong>Prova de Integridade T√©cnica</strong></td>
                            <td style="border: 1px solid #dee2e6; padding: 8px; text-align: center; color: #28a745;"><strong>‚úÖ V√ÅLIDO</strong></td>
                            <td style="border: 1px solid #dee2e6; padding: 8px;">Per√≠cia t√©cnica e auditoria forense</td>
                        </tr>
                        <tr style="background: #f8f9fa;">
                            <td style="border: 1px solid #dee2e6; padding: 8px;"><strong>Controle de Vers√µes</strong></td>
                            <td style="border: 1px solid #dee2e6; padding: 8px; text-align: center; color: #28a745;"><strong>‚úÖ V√ÅLIDO</strong></td>
                            <td style="border: 1px solid #dee2e6; padding: 8px; color: #1a1a1a !important;">Rastreabilidade de altera√ß√µes documentais</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid #dee2e6; padding: 8px;"><strong>Evid√™ncia em Disputas</strong></td>
                            <td style="border: 1px solid #dee2e6; padding: 8px; text-align: center; color: #ffc107;"><strong>‚ö†Ô∏è LIMITADO</strong></td>
                            <td style="border: 1px solid #dee2e6; padding: 8px;">Pode ser aceito como evid√™ncia complementar</td>
                        </tr>
                    </table>

                    <div style="background:rgb(0, 4, 245); padding: 15px; border-radius: 8px; margin: 15px 0;">
                        <h4 style="color:rgb(21, 255, 0); margin: 0 0 10px 0;">‚öñÔ∏è Base Legal da Validade:</h4>
                        <ul style="margin-left: 20px; color:rgb(0, 255, 21);">
                            <li><strong>Lei 14.063/2020:</strong> Estabelece o uso de assinaturas eletr√¥nicas no Brasil</li>
                            <li><strong>Artigo 4¬∫:</strong> Assinatura eletr√¥nica simples - dados anexos ou logicamente associados</li>
                            <li><strong>C√≥digo Civil:</strong> Validade para neg√≥cios jur√≠dicos entre particulares</li>
                            <li><strong>Marco Civil da Internet:</strong> Reconhece autenticidade digital</li>
                        </ul>
                    </div>

                    <div style="background: #ffebee; padding: 15px; border-radius: 8px; margin: 15px 0;">
                        <h4 style="color: #c62828; margin: 0 0 10px 0;">‚ö†Ô∏è IMPORTANTE:</h4>
                        <ul style="margin-left: 20px; color: #c62828;">
                            <li>Esta assinatura <strong>N√ÉO substitui</strong> certificados digitais ICP-Brasil</li>
                            <li><strong>N√ÉO √© v√°lida</strong> para documentos que exigem certifica√ß√£o oficial</li>
                            <li>Para √≥rg√£os p√∫blicos, use <strong>gov.br</strong> ou certificados A1/A3</li>
                            <li>Em caso de d√∫vida sobre validade, <strong>consulte um advogado</strong></li>
                        </ul>
                    </div>
                </div>

                <div class="doc-section">
                    <h3>2. DOCUMENTA√á√ÉO T√âCNICA</h3>
                    
                    <h4>2.1 Arquitetura do Sistema</h4>
                    <p>O sistema implementa um mecanismo de tripla valida√ß√£o, composto por:</p>
                    <ul>
                        <li>Gera√ß√£o de hash exclusivo e inalter√°vel do documento</li>
                        <li>Registro do hash em banco de dados local criptografado, em formato JSON</li>
                        <li>Registro de assinatura digital no formato blockchain em banco de dados externo</li>
                    </ul>
                    
                    <p>Adicionalmente, o sistema executa:</p>
                    <ul>
                        <li>Valida√ß√£o de dados de entrada (nome, CPF, data de nascimento, arquivo PDF, timestamp)</li>
                        <li>Valida√ß√£o do CPF e nome completo</li>
                        <li>Gera√ß√£o de hash do arquivo original e timestamp com fuso hor√°rio</li>
                        <li>Inser√ß√£o de carimbo visual na primeira p√°gina do PDF</li>
                        <li>Valida√ß√£o de redund√¢ncia c√≠clica (conforme ISO IEC 14443)</li>
                        <li>Gera√ß√£o de assinatura digital dos metadados com chave secreta interna</li>
                        <li>Registro dos metadados no arquivo PDF e no banco de dados local</li>
                    </ul>

                    <h4>2.2 Componentes Essenciais</h4>
                    <p>Incluem: Manipula√ß√£o de arquivos PDF; Gera√ß√£o de hashes (SHA-256); Assinaturas digitais (HMAC-SHA256); Codifica√ß√£o/decodifica√ß√£o de dados; Manipula√ß√£o de datas com fuso hor√°rio; Criptografia de dados; Manipula√ß√£o de express√µes regulares; Gera√ß√£o e manipula√ß√£o de dados JSON.</p>

                    <h4>2.3 Funcionalidades</h4>
                    <p>Incluem: Rota principal para assinatura; Valida√ß√£o de CPF e nome; Gera√ß√£o e valida√ß√£o de hashes e timestamps; Criptografia e persist√™ncia de dados; Valida√ß√£o de assinatura de PDF; Registro de dados em base local e externa; Carimbo visual em PDF.</p>
                </div>

                <div class="doc-section">
                    <h3>3. POL√çTICA DE ASSINATURA ELETR√îNICA</h3>
                    
                    <h4>3.1 Objetivo</h4>
                    <p>Estabelecer os crit√©rios t√©cnicos da assinatura eletr√¥nica no Sistema Autenticados Digital.</p>

                    <h4>3.2 √Çmbito</h4>
                    <p>Aplica-se √† assinatura de documentos PDF com armazenamento de evid√™ncias no pr√≥prio documento e em base de dados criptografada.</p>

                    <h4>3.3 Defini√ß√µes</h4>
                    <ul>
                        <li><strong>Assinatura Eletr√¥nica:</strong> Associa√ß√£o de dados que comprova autoria e integridade</li>
                        <li><strong>TOE:</strong> Sistema de assinatura baseado em aplica√ß√£o web e servidor</li>
                        <li><strong>Metadados de Assinatura:</strong> Informa√ß√µes t√©cnicas no PDF</li>
                        <li><strong>Valida√ß√£o de Redund√¢ncia C√≠clica:</strong> Autentica√ß√£o da data/hora da assinatura</li>
                        <li><strong>Registro Externo:</strong> Registro adicional em banco externo tipo blockchain</li>
                    </ul>

                    <h4>3.4 Dados Registrados</h4>
                    <p><strong>Incluem:</strong> Nome, CPF, data de nascimento; IP p√∫blico, data/hora com fuso hor√°rio nos moldes da ISO 8601; Navegador, sistema, localiza√ß√£o (se autorizado); Hashs do PDF original e final; C√≥digo de integridade da data/hora; Timestamp do aceite.</p>
                    <p><strong>Armazenamento:</strong> Como metadados no PDF; Em banco de dados local criptografado; Em banco de dados externo com assinatura blockchain.</p>

                    <h4>3.5 Medidas de Seguran√ßa</h4>
                    <p>Chave secreta interna; Sem depend√™ncia externa para valida√ß√£o; Algoritmos SHA-256 e HMAC-SHA256; Criptografia dos registros; Valida√ß√£o de redund√¢ncia c√≠clica; Registro em blockchain.</p>

                    <h4>3.6 Boas pr√°ticas estabelecidas pelas Normas ISO de Seguran√ßa</h4>
                    <p>Embora o sistema n√£o possua certifica√ß√£o formal das normas ISO, ele segue as boas pr√°ticas estabelecidas pelas seguintes normas internacionais de seguran√ßa:</p>
                    
                    <div style="background: #f0f8ff; padding: 15px; border-radius: 5px; margin: 10px 0;">
                        <p><strong>‚úÖ ISO/IEC 15408 (Common Criteria) ‚Äì Partes 1, 2 e 3:</strong></p>
                        <ul style="margin-left: 20px;">
                            <li>Implementa requisitos funcionais de seguran√ßa como autentica√ß√£o, integridade de dados e prote√ß√£o contra altera√ß√µes</li>
                            <li>Utiliza metadados, assinatura de dados e verifica√ß√£o por hash e CRC (requisitos FPT, FDP, FIA)</li>
                            <li>Possui Security Target (ST) alinhado com esta norma</li>
                        </ul>
                        
                        <p><strong>‚úÖ ISO/IEC 27001:2022 (Seguran√ßa da Informa√ß√£o ‚Äì SGSI):</strong></p>
                        <ul style="margin-left: 20px;">
                            <li>Controle de acesso aos dados com criptografia</li>
                            <li>Registro de logs e rastros de auditoria</li>
                            <li>Criptografia de dados em repouso</li>
                            <li>Redu√ß√£o de risco de vazamento de informa√ß√µes</li>
                            <li>N√£o depend√™ncia de terceiros (minimiza vetores de ataque externos)</li>
                        </ul>
                        
                        <p><strong>‚úÖ ISO/IEC 27002:2022 (Controles de Seguran√ßa Complementares):</strong></p>
                        <ul style="margin-left: 20px;">
                            <li>Criptografia avan√ßada (Fernet, HMAC-SHA256)</li>
                            <li>Isolamento de chaves secretas (chave compilada no c√≥digo)</li>
                            <li>Confidencialidade total (dados inacess√≠veis inclusive ao desenvolvedor)</li>
                            <li>Integridade garantida via finalHash e originalHash</li>
                        </ul>
                        
                        <p><strong>‚úÖ ISO/IEC 25010 (Qualidade de Software):</strong></p>
                        <ul style="margin-left: 20px;">
                            <li>Caracter√≠sticas funcionais e de confiabilidade implementadas</li>
                            <li>Seguran√ßa por design</li>
                            <li>Precis√£o funcional (fun√ß√£o de assinatura cumpre sua proposta)</li>
                            <li>Integridade de dados garantida</li>
                            <li>Toler√¢ncia a falhas com valida√ß√£o rigorosa</li>
                            <li>Rastreabilidade completa dos processos</li>
                        </ul>
                        
                        <p><strong>‚úÖ ISO/IEC 14533 (Assinatura Digital Long-Term) ‚Äì Parte 1:</strong></p>
                        <ul style="margin-left: 20px;">
                            <li>Mant√©m dados persistentes com hash e assinatura de tempo</li>
                            <li>Aplica√ß√£o de conceito de carimbo t√©cnico verific√°vel</li>
                            <li>O finalHash garante integridade visual a longo prazo</li>
                        </ul>
                        
                        <p><strong>‚úÖ ISO/IEC 14443 (Valida√ß√£o de Redund√¢ncia C√≠clica):</strong></p>
                        <ul style="margin-left: 20px;">
                            <li>Uso do CRC16-ISO/IEC 14443 para validar autenticidade da data/hora</li>
                            <li>Implementa√ß√£o direta dos algoritmos desta norma</li>
                            <li>Utiliza c√≥digo de redund√¢ncia c√≠clica para autentica√ß√£o de dois fatores</li>
                        </ul>
                        
                        <p><strong>‚úÖ ISO/IEC 29100 (Privacidade e Prote√ß√£o de Dados Pessoais):</strong></p>
                        <ul style="margin-left: 20px;">
                            <li>Alinhado com princ√≠pios de privacidade</li>
                            <li>Finalidade definida e espec√≠fica para os dados coletados</li>
                            <li>Pol√≠tica de n√£o compartilhamento com terceiros</li>
                            <li>Minimiza√ß√£o de dados coletados</li>
                            <li>Confidencialidade e seguran√ßa por design</li>
                        </ul>
                    </div>

                    <h4>3.7 Consentimento</h4>
                    <p>Ao assinar: O usu√°rio declara ci√™ncia do conte√∫do; Autoriza o tratamento dos dados descritos.</p>

                    <h4>3.8 Validade</h4>
                    <p><strong>Garante:</strong> Autenticidade; Integridade; Rastreabilidade; N√£o rep√∫dio.</p>
                    <p><em>Nota: N√£o utiliza certificados digitais espec√≠ficos.</em></p>

                    <h4>3.9 Tratamento de Dados Pessoais</h4>
                    <p>Finalidade restrita √† autentica√ß√£o; Armazenamento criptografado; Sem compartilhamento com terceiros; Atende √†s solicita√ß√µes do titular.</p>
                </div>

                <div class="doc-section">
                    <h3>4. POL√çTICA DE PRIVACIDADE E LGPD</h3>
                    <p>Todos os dados coletados no processo de assinatura eletr√¥nica s√£o tratados em conformidade com a <strong>Lei n¬∫ 13.709/2018 ‚Äì Lei Geral de Prote√ß√£o de Dados Pessoais (LGPD)</strong>.</p>
                    
                    <p>A coleta, o armazenamento e o tratamento de informa√ß√µes pessoais, como nome, CPF, data de nascimento, IP, localiza√ß√£o e demais dados t√©cnicos, t√™m como finalidade exclusiva a garantia da integridade, autenticidade, rastreabilidade e n√£o rep√∫dio dos documentos assinados eletronicamente.</p>
                    
                    <p>Os dados s√£o armazenados de forma criptografada em banco de dados local, inacess√≠vel inclusive ao desenvolvedor do sistema, n√£o sendo poss√≠vel sua leitura ou descriptografia sem a chave original de criptografia, que n√£o √© distribu√≠da ou exposta em ambiente algum.</p>
                    
                    <p>N√£o h√° compartilhamento, cess√£o ou exposi√ß√£o dos dados com terceiros, tampouco integra√ß√£o com APIs externas ou bases p√∫blicas. Todo o tratamento √© realizado internamente, e os dados s√£o utilizados √∫nica e exclusivamente para validar a integridade dos documentos assinados. Nenhuma informa√ß√£o √© utilizada para fins comerciais, anal√≠ticos ou de marketing.</p>
                </div>

                <div class="doc-section">
                    <h3>5. SECURITY TARGET SIMPLIFICADO</h3>
                    
                    <h4>5.1 Nome do Produto</h4>
                    <p>Sistema Autenticados Digital</p>

                    <h4>5.2 Descri√ß√£o do TOE</h4>
                    <p>Sistema de assinatura PDF com valida√ß√£o tripla e registro blockchain.</p>

                    <h4>5.3 Escopo</h4> 
                    <p><strong>Inclui:</strong> Assinatura digital com carimbo visual; Registro de metadados e assinaturas; Criptografia local e valida√ß√£o cruzada; Registro em blockchain.</p>
                    <p><strong>N√£o inclui:</strong> Certificados digitais do usu√°rio; Chaves assim√©tricas; Prote√ß√£o f√≠sica ou ambiente do cliente.</p>

                    <h4>5.4 Amea√ßas</h4>
                    <ul>
                        <li>T1: Alterar visual do PDF</li>
                        <li>T2: Modificar metadados</li>
                        <li>T3: Forjar assinatura</li>
                        <li>T4: Reutilizar assinatura antiga</li>
                        <li>T5: Acesso indevido ao banco local</li>
                        <li>T6: Alterar registro blockchain</li>
                        <li>T7: Alterar data/hora da assinatura</li>
                    </ul>

                    <h4>5.5 Objetivos de Seguran√ßa</h4>
                    <p>O1: Garantir integridade do PDF; O2: Vincular assinatura ao usu√°rio; O3: Proteger metadados; O4: Proteger conte√∫do visual; O5: Criptografar banco local; O6: Garantir integridade da blockchain; O7: Validar data/hora</p>

                    <h4>5.6 N√≠vel de Garantia</h4>
                    <p><strong>EAL2 (Testado Estruturalmente):</strong> Justificado por c√≥digo documentado, testes, criptografia e uso de blockchain.</p>
                </div>
            </div>        </div>

    <!-- Modal do Termo de Aceite -->
    <div id="termsModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 3000; overflow-y: auto;">
        <div style="position: relative; top: 50px; left: 50%; transform: translateX(-50%); background: #1e1e2e; padding: 30px; border-radius: 10px; max-width: 900px; margin: 50px auto; border: 2px solid #444;">
            <div style="text-align: center; margin-bottom: 30px;">
                <h2 style="color: #64b5f6; margin-bottom: 10px;">üìã TERMO DE ACEITE E CI√äNCIA</h2>
                <h3 style="color: #b0b0b0; margin: 0;">Sobre a Irrevogabilidade das Assinaturas Eletr√¥nicas</h3>
                <h4 style="color: #81c784; margin: 10px 0 0 0;">SISTEMA AUTENTICADOS DIGITAL</h4>
            </div>
            
            <div style="background: #2a2a3e; padding: 25px; border-radius: 8px; margin: 20px 0; max-height: 500px; overflow-y: auto; text-align: justify; line-height: 1.7; font-size: 14px; border: 1px solid #444; color: #e0e0e0;">
                <p style="color: #e0e0e0; margin-bottom: 20px; text-indent: 0; font-weight: 600;">
                    Pelo presente instrumento, o <strong>USU√ÅRIO</strong> declara ter lido, compreendido e aceitado integralmente as disposi√ß√µes abaixo, as quais estabelecem as condi√ß√µes de uso, os efeitos jur√≠dicos e a natureza irrevog√°vel das assinaturas eletr√¥nicas realizadas por meio da aplica√ß√£o Sistema Autenticados Digital.
                </p>

                <h4 style="color: #64b5f6; margin: 25px 0 15px 0;">1. DO OBJETO</h4>
                <p style="color: #e0e0e0; margin-bottom: 15px; text-indent: 20px;">
                    O presente termo tem por objeto registrar a ci√™ncia e o aceite do USU√ÅRIO quanto √† natureza jur√≠dica das assinaturas eletr√¥nicas realizadas no √¢mbito do Sistema Autenticados Digital, suas implica√ß√µes quanto √† validade, integridade, rastreabilidade e irretratabilidade, bem como os efeitos da eventual exclus√£o de seus dados cadastrais.
                </p>

                <h4 style="color: #64b5f6; margin: 25px 0 15px 0;">2. DA NATUREZA DA ASSINATURA ELETR√îNICA</h4>
                <p style="color: #e0e0e0; margin-bottom: 15px; text-indent: 20px;">
                    Nos termos do art. 4¬∫, inciso I, al√≠nea "a", da Lei n¬∫ 14.063/2020, as assinaturas eletr√¥nicas simples utilizadas na plataforma permitem a identifica√ß√£o inequ√≠voca do signat√°rio por meio de dados associados logicamente ao documento assinado, de modo que possuem validade jur√≠dica plena para neg√≥cios jur√≠dicos entre particulares, conforme o disposto no C√≥digo Civil Brasileiro (Lei n¬∫ 10.406/2002).
                </p>
                <p style="color: #e0e0e0; margin-bottom: 15px; text-indent: 20px;">
                    As assinaturas realizadas por meio da plataforma s√£o dotadas de metadados t√©cnicos criptografados, contendo, entre outros, identifica√ß√£o do assinante, hash SHA-256 do conte√∫do, timestamp com valida√ß√£o de integridade (CRC16), e, quando aplic√°vel, registro em blockchain com carimbo t√©cnico imut√°vel e verific√°vel.
                </p>

                <h4 style="color: #64b5f6; margin: 25px 0 15px 0;">3. DA IRREVOGABILIDADE DAS ASSINATURAS ELETR√îNICAS</h4>
                <p style="color: #e0e0e0; margin-bottom: 15px; text-indent: 20px;">
                    As assinaturas eletr√¥nicas realizadas por meio do Sistema Autenticados Digital s√£o <strong>irrevog√°veis, irretrat√°veis e indissoci√°veis</strong> dos documentos aos quais foram vinculadas. Em conformidade com o disposto no art. 1.194 do C√≥digo Civil, o USU√ÅRIO reconhece o dever de conserva√ß√£o da escritura√ß√£o e documentos assinados, n√£o podendo pleitear a exclus√£o ou invalida√ß√£o de assinaturas efetuadas antes de eventual exclus√£o de seu cadastro na plataforma.
                </p>
                <p style="color: #e0e0e0; margin-bottom: 15px; text-indent: 20px;">
                    Cada documento assinado constitui entidade documental aut√¥noma e tecnicamente inviol√°vel, sendo os dados da assinatura embutidos no pr√≥prio arquivo em formato permanente. Tais dados n√£o s√£o pass√≠veis de remo√ß√£o ou altera√ß√£o posterior, mesmo com a elimina√ß√£o do cadastro do USU√ÅRIO.
                </p>

                <h4 style="color: #64b5f6; margin: 25px 0 15px 0;">4. DA EXCLUS√ÉO DO CADASTRO</h4>
                <p style="color: #e0e0e0; margin-bottom: 15px; text-indent: 20px;">
                    O USU√ÅRIO poder√°, a qualquer tempo, requerer a exclus√£o definitiva de seus dados pessoais e credenciais de acesso √† plataforma, nos termos da Lei n¬∫ 13.709/2018 (Lei Geral de Prote√ß√£o de Dados Pessoais ‚Äì LGPD). Entretanto, declara ci√™ncia de que tal exclus√£o <strong>n√£o acarretar√° a nulidade, revoga√ß√£o ou retirada das assinaturas eletr√¥nicas anteriormente realizadas</strong>, as quais permanecer√£o v√°lidas, verific√°veis e com pleno valor jur√≠dico.
                </p>

                <h4 style="color: #64b5f6; margin: 25px 0 15px 0;">5. DA RESPONSABILIDADE PELO COMPARTILHAMENTO DE DOCUMENTOS</h4>
                <p style="color: #e0e0e0; margin-bottom: 15px; text-indent: 20px;">
                    O USU√ÅRIO declara estar ciente de que a verifica√ß√£o da autenticidade das assinaturas pode ser realizada por qualquer terceiro que tenha posse leg√≠tima do documento assinado. Sendo assim, √© de inteira responsabilidade do USU√ÅRIO zelar pela guarda e sigilo dos arquivos assinados, bem como restringir seu compartilhamento somente √†s pessoas autorizadas, eximindo a plataforma de qualquer responsabilidade decorrente de uso indevido ou divulga√ß√£o indevida de tais documentos por terceiros.
                </p>

                <h4 style="color: #64b5f6; margin: 25px 0 15px 0;">6. DA VALIDADE JUR√çDICA E FUNDAMENTO LEGAL</h4>
                <p style="color: #e0e0e0; margin-bottom: 15px; text-indent: 20px;">
                    O Sistema Autenticados Digital √© regido pelos dispositivos legais constantes na Lei n¬∫ 10.406/2002 (C√≥digo Civil) e na Lei n¬∫ 14.063/2020, estando tecnicamente alinhado √†s melhores pr√°ticas internacionais de seguran√ßa da informa√ß√£o, conforme recomenda√ß√µes das normas ISO/IEC 27001, 27002, 15408, 25010, 29100 e 14533.
                </p>
                <p style="color: #e0e0e0; margin-bottom: 15px; text-indent: 20px;">
                    As assinaturas eletr√¥nicas simples realizadas na plataforma t√™m validade jur√≠dica plena para fins de celebra√ß√£o de contratos, aceites de pol√≠ticas, controle de documentos empresariais e quaisquer atos cuja legisla√ß√£o vigente n√£o exija certifica√ß√£o digital emitida no √¢mbito da ICP-Brasil.
                </p>
            </div>
            
            <div style="background: #1b5e20; padding: 15px; border-radius: 8px; margin: 20px 0; border: 1px solid #2e7d32;">
                <h4 style="color: #c8e6c9; margin: 0 0 10px 0;">‚úÖ DECLARA√á√ÉO DE CI√äNCIA</h4>
                <p style="color: #c8e6c9; margin: 0; font-size: 14px;">
                    <strong>Ao aceitar os termos de uso na assinatura, o usu√°rio declara ter lido e compreendido 
                    integralmente este documento e concorda com todas as disposi√ß√µes aqui estabelecidas.</strong>
                </p>
            </div>
            
            <div style="text-align: center; margin-top: 30px;">
                <button onclick="closeTermsModal()" style="background: #64b5f6; color: white; border: none; padding: 12px 30px; border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 16px;">
                    ‚úÖ Entendi os Termos
                </button>
            </div>
        </div>
    </div>

    <footer style="text-align: center; margin-top: 30px; padding: 20px; background: rgba(42, 42, 62, 0.8) !important; color: #e0e0e0 !important; border-radius: 5px; font-size: 12px;">
        <strong>Copyright ¬© Delean Mafra</strong><br>
        Todos os direitos reservados
    </footer>

    <script src="{{ url_for('static', filename='assinar_pdfs.js') }}"></script>

</body>
</html>
